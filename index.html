<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="bundle.css" />
    <title>Shyrokov Roman portfolio</title>

    <style>
      /* FONT "AEONIK" START */
      @font-face {
        font-family: "Aeonik";
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: url("fonts/AeonikTRIAL-Regular.otf") format("opentype");
      }
      @font-face {
        font-family: "Aeonik";
        font-style: normal;
        font-weight: 700;
        font-display: fallback;
        src: url("fonts/AeonikTRIAL-Bold.otf") format("opentype");
      }
    </style>

    <!-- ios 12 AlpineJS polyfills -->
    <script>
      if (typeof window.queueMicrotask !== "function") {
        window.queueMicrotask = function (callback) {
          Promise.resolve()
            .then(callback)
            .catch((e) =>
              setTimeout(() => {
                throw e;
              })
            );
        };
      }

      function removeOpacity() {
        document.addEventListener("DOMContentLoaded", () => {
          document
            .querySelectorAll(".animate__animated.opacity-0")
            .forEach((item) => {
              item.classList.remove("opacity-0");
            });
        });
      }

      if (
        !("IntersectionObserver" in window) ||
        !("IntersectionObserverEntry" in window) ||
        !("intersectionRatio" in window.IntersectionObserverEntry.prototype) ||
        !("isIntersecting" in window.IntersectionObserverEntry.prototype)
      ) {
        removeOpacity();
      }

      function coalesceSupport() {
        try {
          new Function("null ?? false;");
          return true;
        } catch (e) {
          removeOpacity();
          return false;
        }
      }

      coalesceSupport();
    </script>
  </head>

  <body
    class="font-main custom-cursor-area flex min-h-screen flex-col bg-neutral-800 text-white opacity-0 duration-300 ease-in-out"
    x-intersect="$el.classList.add('opacity-100')"
    x-data="projects"
  >
    <header class="flex py-10">
      <ul class="container flex justify-between">
        <li>
          <a class="link text-base" href="/about.html">About me</a>
        </li>
        <li>
          <a class="link text-base" href="/cv.html">PDF CV</a>
        </li>
      </ul>
    </header>

    <main
      role="main"
      class="relative flex flex-1 flex-col overflow-hidden"
      @click.self="close()"
    >
      <div data-marquee-inner>
        <div
          class="marquee fixed top-1/3 inline-flex w-max items-center"
          x-data="marquee"
          @resize.window="marqueeLogic()"
        >
          <span
            class="flex w-full shrink-0 whitespace-nowrap px-3 text-gray-700"
            data-marquee-el
          >
            talk less do more
          </span>
        </div>
      </div>

      <div class="container mt-auto">
        <h2 class="mb-5 text-xl md:text-3xl">Some Shopify Stores:</h2>
        <ul>
          <template
            x-for="(project, index) in projectsList"
            :key="handleize(project.title)"
          >
            <li
              class="grid grid-cols-[minmax(0,30px)_minmax(0,max-content)] gap-5 pb-1 text-base"
            >
              <span class="text-left" x-text="index"></span>
              <button
                class="link text-left"
                x-text="project.title"
                @click.prevent="open(handleize(project.title))"
              ></button>
            </li>
          </template>
        </ul>
      </div>

      <template x-for="project in projectsList" :key="handleize(project.title)">
        <article
          class="article-project scrollbar-hide fixed bottom-0 right-0 h-full w-full overflow-y-auto bg-white p-8 text-black opacity-0 duration-500 ease-in-out md:max-h-[calc(100%-150px)] md:max-w-[70%] md:p-10 lg:p-16"
          x-cloak
          :class="{ 'opacity-100 active' : handleize(activeProject.title) === handleize(project.title) && showPopup }"
        >
          <h1 class="text-3xl font-bold" x-text="project.title"></h1>
          <div
            class="my-10 grid grid-cols-1 gap-5 md:mb-20 md:grid-cols-2 lg:gap-x-16"
          >
            <span>---------------------</span>
            <div class="">
              <button
                class="text-gray-500 duration-300 ease-in-out hover:text-gray-900"
                @click.prevent="close()"
              >
                Close
              </button>
            </div>

            <div class="">
              <p class="mb-5 text-base" x-text="project.stack"></p>
              <a
                :href="project.url"
                target="_blank"
                class="link active"
                aria-label="Redirect to project store"
              >
                <span>Visit store</span>
              </a>
            </div>

            <p x-text="project.description"></p>
          </div>
          <img :src="project.img" alt="Project image" />
        </article>
      </template>
    </main>

    <footer class="container mb-2 mt-20 flex justify-end text-base text-white">
      Â© me
    </footer>

    <div class="custom-cursor hidden lg:block">
      <div class="custom-cursor__inner"></div>
    </div>
    <script src="bundle.js"></script>
  </body>
</html>
